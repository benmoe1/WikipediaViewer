!function(){function e(e,t,n){const s=document.createElement(e);if(void 0!==t){const e=document.createTextNode(t);s.appendChild(e)}return void 0!==n&&s.classList.add(n),s}function t(t){c.innerHTML="";const n=e("h2","Your results:","titleForResult");c.appendChild(n);const s=Object.keys(t.query.pages);for(let n=0;n<s.length;n+=1){const o=s[n],d=t.query.pages[o].title,i=t.query.pages[o].extract,a=t.query.pages[o].fullurl,r=e("h3",d),l=e("p",i,void 0),u=e("div"),p=e("a","See full"),f=e("hr");p.setAttribute("href",a),u.classList.add("button","success"),u.appendChild(p),c.appendChild(r),c.appendChild(l),c.appendChild(u),c.appendChild(f)}}function n(n){const s=`https://en.wikipedia.org/w/api.php?format=json&origin=*&action=query&generator=search&prop=extracts|info&inprop=url&exintro&explaintext&exlimit=max&gsrsearch=${n.toLowerCase()}&origin=*`,o=new XMLHttpRequest;o.open("GET",s,!0),o.onload=function(){if(4===this.readyState&&200===this.status){!function(e){switch(e.query){case void 0:c.innerHTML="Your search was not successfull. Please try another query ðŸ˜…";break;default:t(e)}}(JSON.parse(this.responseText))}else!function(){const t=e("p","Oops, something went wrong ðŸ˜³. Please try again.");c.appendChild(t)}()},o.send()}function s(){const e=d.value;switch(e){case"":d.setCustomValidity("Your search can't be empty ðŸ˜³"),a.textContent=d.validationMessage;break;default:d.value="",n(e)}}function o(){const e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(o),window.scrollTo(0,e-e/3))}const d=document.getElementById("js_userInput"),i=document.getElementById("js_userSubmit"),a=document.getElementById("js_validationMessage"),c=document.getElementById("js_showResult"),r=document.getElementById("js_arrowTop");i.addEventListener("click",s),d.addEventListener("keyup",e=>{13===e.keyCode&&s()}),d.addEventListener("focus",function(){a.innerHTML=""}),d.addEventListener("focus",function(){document.body.classList.add("focus")}),d.addEventListener("blur",function(){document.body.classList.remove("focus")}),window.addEventListener("scroll",function(){const e=document.getElementById("js_header"),t=e.offsetTop+e.offsetHeight;window.scrollY>=t?e.classList.add("fixedHeader"):e.classList.remove("fixedHeader")}),window.addEventListener("scroll",function(){const e=document.getElementById("js_header"),t=e.offsetTop+e.offsetHeight;window.scrollY>=t?r.classList.remove("hide"):r.classList.add("hide")}),r.addEventListener("click",o)}();